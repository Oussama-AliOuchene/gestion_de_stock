{% extends "base.html" %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Liste de Produits</title>
    
  </head>
  <body >
    {% block content %}
    <div class="d-flex justify-content-between align-items-center">
      <h2>Liste de Produits</h2>
      <a href="{% url 'create_product' %}">
        <button type="button" class="btn btn-info">Ajouter ✚</button>
      </a>
      
    </div>
    <form method="GET" action="{% url 'product_list' %}" class="form-inline mb-3">
      <input type="text" name="q" class="form-control mr-2" placeholder="Rechercher un produit...">
      <button type="submit" class="btn btn-primary">Rechercher</button>
    </form>
        <!-- {% for produit in products %}
        <tr class="product-item">
          <td class="product-title">{{ produit.code_produit }}</td>
          <td>{{ produit.designation }}</td>
          <td>{{ produit.date_fabrication }}</td>
          <td>{{ produit.unite }}</td>
          <td>{{ produit.quantite_stock }}</td>
          <td>{{ produit.quantite_util }}</td>
          <td>{{ produit.quantite_vandale }}</td>
          <td>{{ produit.code_fournisseur }}</td>
          <td>
            <a href="{% url 'delete_product' produit.code_produit %}"
              >Supprimer</a
            >
            |
            <a href="{% url 'update_product' produit.code_produit %}"
              >Mettre à jour</a
            >
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="9">Aucun produit trouvé.</td>
        </tr>
        {% endfor %} -->
       
          

      <div class="container mt-4">  
        <table class="table table-striped">
          <thead>
            <tr>


              <th scope="col">code produit</th>
              <th scope="col">designation</th>
              <th scope="col">quentité stock</th>
              <th scope="col">quentité utiliser</th>
              <th scope="col">nom fournisseur</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for produit in products %}
            <tr>
              <td>{{ produit.code_produit }}</td>
              <td>{{ produit.designation }}</td>
              <td>{{ produit.quantite_stock }}</td>
              <td>{{ produit.quantite_util }}</td>
              <td>{{produit.code_fournisseur}}</td>
              <td>
                <a href="{% url 'delete_product' produit.code_produit %}" class="btn btn-danger btn-sm">Supprimer</a>
                <a href="{% url 'update_product' produit.code_produit%}" class="btn btn-info btn-sm">Mettre à jour</a>
              </td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="3" class="text-center">Aucun produit trouvé.</td>
            </tr>
            {% endfor %}
            
          </tbody>
        </table>
      </div>      
    {% endblock %}
  </body>
</html>
